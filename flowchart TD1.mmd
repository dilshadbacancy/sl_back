flowchart TD
    Start([SHOP ROUTES - /shop]) --> R1["POST /save-shop-details"]
    Start --> R2["POST /save-shop-location"]
    Start --> R3["POST /save-shop-kyc"]
    Start --> R4["POST /save-shop-bank"]
    Start --> R5["GET /get-shop-profile"]
    Start --> R6["POST /create-service"]
    Start --> R7["GET /services"]
    
    R1 --> R1Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R1Auth --> R1Body["ğŸ“¥ REQUEST BODY:<br/>{ shop_name: string,<br/>shop_logo_url?: string,<br/>email: email,<br/>mobile: string,<br/>shop_open_time?: string,<br/>shop_close_time?: string,<br/>vendor_id?: UUID }"]
    R1Body --> R1Service["ğŸ”„ ShopService.saveSaloonShop"]
    R1Service --> R1Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>message: 'Shop details saved',<br/>data: { id, shop_name,<br/>email, mobile,<br/>shop_open_time,<br/>shop_close_time } }"]
    
    R2 --> R2Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R2Auth --> R2Body["ğŸ“¥ REQUEST BODY:<br/>{ shop_id: UUID,<br/>latitude: number,<br/>longitude: number,<br/>address?: string,<br/>city?: string,<br/>state?: string,<br/>zip_code?: string }"]
    R2Body --> R2Service["ğŸ”„ ShopService.saveSaloonShopLocation"]
    R2Service --> R2Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>message: 'Location saved',<br/>data: { id, shop_id,<br/>latitude, longitude,<br/>address, city } }"]
    
    R3 --> R3Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R3Auth --> R3Body["ğŸ“¥ REQUEST BODY:<br/>{ shop_id: UUID,<br/>business_type?: string,<br/>gst_number?: string,<br/>pan_number?: string,<br/>aadhar_number?: string,<br/>kyc_document?: string,<br/>kyc_status?: string }"]
    R3Body --> R3Service["ğŸ”„ ShopService.saveSaloonShopKyc"]
    R3Service --> R3Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>message: 'KYC details saved',<br/>data: { id, shop_id,<br/>gst_number,<br/>kyc_status } }"]
    
    R4 --> R4Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R4Auth --> R4Body["ğŸ“¥ REQUEST BODY:<br/>{ shop_id: UUID,<br/>account_holder?: string,<br/>account_number: string,<br/>bank_name: string,<br/>ifsc_code: string,<br/>account_type?: string,<br/>branch?: string }"]
    R4Body --> R4Service["ğŸ”„ ShopService.saveSaloonShopBankDetails"]
    R4Service --> R4Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>message: 'Bank details saved',<br/>data: { id, shop_id,<br/>account_number,<br/>bank_name,<br/>ifsc_code } }"]
    
    R5 --> R5Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R5Auth --> R5Query["ğŸ“¥ QUERY PARAMS:<br/>?shop_id=UUID"]
    R5Query --> R5Service["ğŸ”„ ShopService.getShopProfile"]
    R5Service --> R5Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>data: { id, shop_name,<br/>email, mobile,<br/>location{},<br/>kyc{}, bank_details{},<br/>services_count,<br/>barbers_count } }"]
    
    R6 --> R6Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R6Auth --> R6Body["ğŸ“¥ REQUEST BODY:<br/>{ shop_id: UUID,<br/>name: string,<br/>description?: string,<br/>duration: number,<br/>price: number,<br/>discounted_price?: number,<br/>image_url?: string,<br/>category?: string }"]
    R6Body --> R6Validation["âœ… Validation:<br/>- shop_id required<br/>- name required<br/>- duration > 0<br/>- price >= 0"]
    R6Validation --> R6Service["ğŸ”„ ShopService.createService"]
    R6Service --> R6Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>message: 'Service created',<br/>data: { id, name,<br/>duration, price,<br/>shop_id,<br/>discounted_price } }"]
    
    R7 --> R7Auth["ğŸ” Middleware:<br/>authMiddleware"]
    R7Auth --> R7Query["ğŸ“¥ QUERY PARAMS:<br/>?shop_id=UUID<br/>&category=string"]
    R7Query --> R7Service["ğŸ”„ ShopService.getAllServices"]
    R7Service --> R7Response["ğŸ“¤ RESPONSE:<br/>{ success: true,<br/>data: [{ id, name,<br/>description, duration,<br/>price,<br/>discounted_price,<br/>image_url,<br/>shop_id }] }"]
    
    style Start fill:#e3f2fd
    style R1 fill:#c8e6c9
    style R2 fill:#fff9c4
    style R3 fill:#ffccbc
    style R4 fill:#e1bee7
    style R5 fill:#b2dfdb
    style R6 fill:#ffe0b2
    style R7 fill:#f8bbd0
    style R1Response fill:#a5d6a7
    style R2Response fill:#fff59d
    style R3Response fill:#ffab91
    style R4Response fill:#ce93d8
    style R5Response fill:#80cbc4
    style R6Response fill:#ffcc80
    style R7Response fill:#f48fb1