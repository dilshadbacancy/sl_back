{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Cannot read properties of undefined (reading 'length')","method":"POST","params":{},"query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at Appointment._initValues (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:164:49)\n    at new Model (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:142:10)\n    at new Appointment (/Users/mac/Desktop/NodeJS/sl_back/src/models/vendor/appointment.model.ts:3:1)\n    at Appointment.build (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2255:12)\n    at Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:23)\n    at CustomerServies.bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:57:45)\n    at bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:31)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:117:3)","statusCode":500,"timestamp":"2025-12-09 10:44:44","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Cannot read properties of undefined (reading 'length')","method":"POST","params":{},"query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at Appointment._initValues (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:164:49)\n    at new Model (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:142:10)\n    at new Appointment (/Users/mac/Desktop/NodeJS/sl_back/src/models/vendor/appointment.model.ts:3:1)\n    at Appointment.build (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2255:12)\n    at Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:23)\n    at CustomerServies.bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:57:45)\n    at bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:31)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:117:3)","statusCode":500,"timestamp":"2025-12-09 10:45:20","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Cannot read properties of undefined (reading 'length')","method":"POST","params":{},"query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at Appointment._initValues (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:164:49)\n    at new Model (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:142:10)\n    at new Appointment (/Users/mac/Desktop/NodeJS/sl_back/src/models/vendor/appointment.model.ts:3:1)\n    at Appointment.build (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2255:12)\n    at Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:23)\n    at CustomerServies.bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:57:45)\n    at bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:31)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:117:3)","statusCode":500,"timestamp":"2025-12-09 10:46:06","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"notNull Violation: Appointment.appointment_time cannot be null","method":"POST","params":{},"query":{},"stack":"SequelizeValidationError: notNull Violation: Appointment.appointment_time cannot be null\n    at InstanceValidator._validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:78:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:111:7)\n    at async InstanceValidator.validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:93:12)\n    at async Appointment.save (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:4077:7)\n    at async Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:12)\n    at async bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:9)","statusCode":500,"timestamp":"2025-12-09 10:48:21","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"notNull Violation: Appointment.appointment_time cannot be null","method":"POST","params":{},"query":{},"stack":"SequelizeValidationError: notNull Violation: Appointment.appointment_time cannot be null\n    at InstanceValidator._validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:78:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:111:7)\n    at async InstanceValidator.validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:93:12)\n    at async Appointment.save (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:4077:7)\n    at async Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:12)\n    at async bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:9)","statusCode":500,"timestamp":"2025-12-09 10:48:51","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed","shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Table 'saloon_app.appointments' doesn't exist","method":"POST","params":{},"query":{},"stack":"Error\n    at Query.run (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/dialects/mysql/query.js:46:25)\n    at /Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at async Appointment.save (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:4154:35)\n    at async Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:12)\n    at async bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:32:9)","statusCode":500,"timestamp":"2025-12-09 10:49:22","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10T10:00:00.000Z","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","services":[{"duration":30,"price":350,"service_id":"e86cb480-a565-44c0-a463-cec0eef12d49"},{"duration":20,"price":200,"service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed"}],"shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Cannot read properties of undefined (reading 'services')","method":"POST","params":{},"query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'services')\n    at CustomerServies.createAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:62:19)\n    at bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:33:31)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:582:12)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:291:5)","statusCode":500,"timestamp":"2025-12-09 12:35:52","url":"/customer/book-appointment"}
{"level":"error","message":"Expected double-quoted property name in JSON at position 50 (line 3 column 1)","method":"POST","params":{},"query":{},"stack":"SyntaxError: Expected double-quoted property name in JSON at position 50 (line 3 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/mac/Desktop/NodeJS/sl_back/node_modules/body-parser/lib/types/json.js:77:19)\n    at /Users/mac/Desktop/NodeJS/sl_back/node_modules/body-parser/lib/read.js:123:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/mac/Desktop/NodeJS/sl_back/node_modules/raw-body/index.js:238:16)\n    at done (/Users/mac/Desktop/NodeJS/sl_back/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/mac/Desktop/NodeJS/sl_back/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:508:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)","statusCode":400,"timestamp":"2025-12-09 12:41:50","url":"/customer/assign-appointments"}
{"body":{"appointment_date":"2025-12-10T10:00:00.000Z","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","services":[{"duration":30,"price":350,"service_id":"e86cb480-a565-44c0-a463-cec0eef12d49"},{"duration":20,"price":200,"service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed"}],"shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Validation error: Validation min on pin failed","method":"POST","params":{},"query":{},"stack":"SequelizeValidationError: Validation error: Validation min on pin failed\n    at InstanceValidator._validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:78:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:111:7)\n    at async InstanceValidator.validate (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/instance-validator.js:93:12)\n    at async Appointment.save (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:4077:7)\n    at async Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:12)\n    at async CustomerServies.createAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:75:29)\n    at async bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:33:9)","statusCode":500,"timestamp":"2025-12-09 12:48:58","url":"/customer/book-appointment"}
{"body":{"appointment_date":"2025-12-10T10:00:00.000Z","customer_id":"1a22e9ba-3d4a-404c-bd8e-5f9cb1f46109","gender":"male","notes":"Please cut short","payment_mode":"cash","services":[{"discounted_price":50,"duration":30,"price":350,"service_id":"e86cb480-a565-44c0-a463-cec0eef12d49"},{"duration":20,"price":200,"service_id":"932c4b4c-a028-4c9b-a7dd-78374d044bed"}],"shop_id":"b2a6efe3-8128-4c64-92f4-5250bda2ddb0"},"level":"error","message":"Table 'saloon_app.appointments' doesn't exist","method":"POST","params":{},"query":{},"stack":"Error\n    at Query.run (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/dialects/mysql/query.js:46:25)\n    at /Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at async Appointment.save (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:4154:35)\n    at async Appointment.create (/Users/mac/Desktop/NodeJS/sl_back/node_modules/sequelize/src/model.js:2305:12)\n    at async CustomerServies.createAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/service/user/customer.service.ts:76:29)\n    at async bookAppointment (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/user/customer.controller.ts:34:9)","statusCode":500,"timestamp":"2025-12-09 15:38:30","url":"/customer/book-appointment"}
