{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:05:41","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:05:41"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 33.587 ms - 569\u001b[0m","timestamp":"2025-12-04 10:05:41"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:07:17","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"User":{"first_name":"Dilshad"},"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:07:17"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 24.600 ms - 601\u001b[0m","timestamp":"2025-12-04 10:07:17"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:08:17","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeEagerLoadingError: User is associated to DeviceInfo using an alias. You've included an alias (device-user), but it does not match the alias(es) defined in your association (User).","timestamp":"2025-12-04 10:08:17"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[31m500\u001b[0m 23.005 ms - 927\u001b[0m","timestamp":"2025-12-04 10:08:17"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:08:50","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeEagerLoadingError: User is associated to DeviceInfo using an alias. You've included an alias (device_user), but it does not match the alias(es) defined in your association (User).","timestamp":"2025-12-04 10:08:50"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[31m500\u001b[0m 24.875 ms - 927\u001b[0m","timestamp":"2025-12-04 10:08:50"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:09:23","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeEagerLoadingError: User is associated to DeviceInfo using an alias. You've included an alias (user), but it does not match the alias(es) defined in your association (User).","timestamp":"2025-12-04 10:09:23"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[31m500\u001b[0m 20.778 ms - 906\u001b[0m","timestamp":"2025-12-04 10:09:23"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:09:35","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeEagerLoadingError: User is associated to DeviceInfo using an alias. You've included an alias (user), but it does not match the alias(es) defined in your association (User).","timestamp":"2025-12-04 10:09:35"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[31m500\u001b[0m 21.527 ms - 906\u001b[0m","timestamp":"2025-12-04 10:09:35"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:09:45","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"User":{"first_name":"Dilshad"},"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:09:45"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 21.674 ms - 601\u001b[0m","timestamp":"2025-12-04 10:09:45"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:10:31","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"User":{"email":"dilshad@example.com","first_name":"Dilshad","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770"},"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:10:31"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 21.779 ms - 809\u001b[0m","timestamp":"2025-12-04 10:10:31"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:11:18","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user":{"email":"dilshad@example.com","first_name":"Dilshad","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:11:18"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 22.881 ms - 809\u001b[0m","timestamp":"2025-12-04 10:11:18"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:12:47","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","user":{"email":"dilshad@example.com","first_name":"Dilshad","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","status":"de-activated"}},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:12:47"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 26.138 ms - 706\u001b[0m","timestamp":"2025-12-04 10:12:47"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:13:25","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","user_info":{"email":"dilshad@example.com","first_name":"Dilshad","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","status":"de-activated"}},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:13:25"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 24.103 ms - 711\u001b[0m","timestamp":"2025-12-04 10:13:25"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:13:58","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"device_user_info":{"email":"dilshad@example.com","first_name":"Dilshad","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","status":"de-activated"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:13:58"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 25.448 ms - 718\u001b[0m","timestamp":"2025-12-04 10:13:58"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:14:31","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"device_user_info":{"email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","status":"de-activated"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:14:31"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 22.359 ms - 762\u001b[0m","timestamp":"2025-12-04 10:14:31"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:15:16","url":"/users/check-profile","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"basic_profile_copleted":true,"location_completed":true,"profile_completed":true},"level":"info","message":"Success","success":true,"timestamp":"2025-12-04 10:15:16"}
{"level":"http","message":"\u001b[0mGET /users/check-profile \u001b[32m200\u001b[0m 12.769 ms - 126\u001b[0m","timestamp":"2025-12-04 10:15:16"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:15:36","url":"/common/device-info","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"device_user_info":{"email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","status":"de-activated"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user"},"level":"info","message":"Device information fetched","success":true,"timestamp":"2025-12-04 10:15:36"}
{"level":"http","message":"\u001b[0mGET /common/device-info \u001b[32m200\u001b[0m 14.374 ms - 762\u001b[0m","timestamp":"2025-12-04 10:15:36"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:41:50","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Zod Error validation","timestamp":"2025-12-04 10:41:50"}
{"level":"error","message":"SequelizeValidationError: notNull Violation: FCM.user_id cannot be null,\nnotNull Violation: FCM.device_id cannot be null,\nnotNull Violation: FCM.token cannot be null","timestamp":"2025-12-04 10:41:50"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[31m500\u001b[0m 22.980 ms - 176\u001b[0m","timestamp":"2025-12-04 10:41:50"}
{"level":"error","message":"Cannot set headers after they are sent to the client","method":"POST","params":{},"query":{},"stack":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:642:11)\n    at ServerResponse.header (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:684:10)\n    at ServerResponse.send (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:161:12)\n    at ServerResponse.json (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:250:15)\n    at ApiResponse.error (/Users/mac/Desktop/NodeJS/sl_back/src/utils/apiResponse.ts:118:39)\n    at /Users/mac/Desktop/NodeJS/sl_back/src/controllers/commoon.controller.ts:37:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async saveFCMToken (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/commoon.controller.ts:35:9)","statusCode":500,"timestamp":"2025-12-04 10:41:50","url":"/common/save-token"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:42:26","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Validation Failed","timestamp":"2025-12-04 10:42:26"}
{"level":"error","message":"SequelizeValidationError: notNull Violation: FCM.user_id cannot be null,\nnotNull Violation: FCM.device_id cannot be null,\nnotNull Violation: FCM.token cannot be null","timestamp":"2025-12-04 10:42:26"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[31m500\u001b[0m 20.089 ms - 173\u001b[0m","timestamp":"2025-12-04 10:42:26"}
{"level":"error","message":"Cannot set headers after they are sent to the client","method":"POST","params":{},"query":{},"stack":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:642:11)\n    at ServerResponse.header (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:684:10)\n    at ServerResponse.send (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:161:12)\n    at ServerResponse.json (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:250:15)\n    at ApiResponse.error (/Users/mac/Desktop/NodeJS/sl_back/src/utils/apiResponse.ts:118:39)\n    at /Users/mac/Desktop/NodeJS/sl_back/src/controllers/commoon.controller.ts:37:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async saveFCMToken (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/commoon.controller.ts:35:9)","statusCode":500,"timestamp":"2025-12-04 10:42:26","url":"/common/save-token"}
{"body":{"device_id":"2b77a38d-8f46-4548-9e1b-fc0fdf98c22b","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"9b3f6c1a-2c9f-4df0-9a30-8c92f80d12ef"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:42:59","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":"Token saved successfully","success":true,"timestamp":"2025-12-04 10:42:59"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[32m200\u001b[0m 33.655 ms - 53\u001b[0m","timestamp":"2025-12-04 10:42:59"}
{"body":{"device_id":"2b77a38d-8f46-4548-9e1b-fc0fdf98c22b","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"9b3f6c1a-2c9f-4df0-9a30-8c92f80d12ef"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:43:03","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":"Token saved successfully","success":true,"timestamp":"2025-12-04 10:43:03"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[32m200\u001b[0m 7.488 ms - 53\u001b[0m","timestamp":"2025-12-04 10:43:03"}
{"body":{"device_id":"2b77a38d-8f46-4548-9e1b-fc0fdf98c22b","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"9b3f6c1a-2c9f-4df0-9a30-8c92f80d12ef"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:45:52","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeForeignKeyConstraintError: Cannot add or update a child row: a foreign key constraint fails (`saloon_app`.`fcm-records`, CONSTRAINT `fcm-records_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)","timestamp":"2025-12-04 10:45:52"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[31m500\u001b[0m 41.784 ms - 1105\u001b[0m","timestamp":"2025-12-04 10:45:52"}
{"body":{"device_id":"2b77a38d-8f46-4548-9e1b-fc0fdf98c22b","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:46:27","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"SequelizeForeignKeyConstraintError: Cannot add or update a child row: a foreign key constraint fails (`saloon_app`.`fcm-records`, CONSTRAINT `fcm-records_ibfk_2` FOREIGN KEY (`device_id`) REFERENCES `device-info` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)","timestamp":"2025-12-04 10:46:27"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[31m500\u001b[0m 14.048 ms - 1129\u001b[0m","timestamp":"2025-12-04 10:46:27"}
{"body":{"device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:46:38","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":"Token saved successfully","success":true,"timestamp":"2025-12-04 10:46:38"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[32m200\u001b[0m 10.198 ms - 53\u001b[0m","timestamp":"2025-12-04 10:46:38"}
{"body":{"device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 10:46:41","url":"/common/save-token","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":"Token saved successfully","success":true,"timestamp":"2025-12-04 10:46:41"}
{"level":"http","message":"\u001b[0mPOST /common/save-token \u001b[32m200\u001b[0m 5.728 ms - 53\u001b[0m","timestamp":"2025-12-04 10:46:41"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:49:37","url":"/common/fcm-token","userAgent":"PostmanRuntime/7.49.1"}
{"data":[{"createdAt":"2025-12-04T05:16:41.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","id":"6136246a-2da9-4aa9-bd94-7ba7d64eac81","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:41.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},{"createdAt":"2025-12-04T05:16:38.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","id":"d71b4778-e247-4330-9309-ee306b024255","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:38.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"}],"level":"info","message":"Fcm token fetched successfully","meta":{"limit":2,"page":1,"total":2,"totalPages":1},"success":true,"timestamp":"2025-12-04 10:49:37"}
{"level":"http","message":"\u001b[0mGET /common/fcm-token \u001b[32m200\u001b[0m 23.096 ms - 675\u001b[0m","timestamp":"2025-12-04 10:49:37"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 10:51:24","url":"/common/fcm-token","userAgent":"PostmanRuntime/7.49.1"}
{"data":[{"createdAt":"2025-12-04T05:16:41.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","fcm_device_info":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"fcm_user":{"createdAt":"2025-12-03T09:26:40.000Z","email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","is_profile_completed":true,"is_verified":true,"last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","role":"user","status":"de-activated","updatedAt":"2025-12-03T10:43:36.000Z"},"id":"6136246a-2da9-4aa9-bd94-7ba7d64eac81","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:41.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},{"createdAt":"2025-12-04T05:16:38.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","fcm_device_info":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"fcm_user":{"createdAt":"2025-12-03T09:26:40.000Z","email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","is_profile_completed":true,"is_verified":true,"last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","role":"user","status":"de-activated","updatedAt":"2025-12-03T10:43:36.000Z"},"id":"d71b4778-e247-4330-9309-ee306b024255","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:38.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"}],"level":"info","message":"Fcm token fetched successfully","meta":{"limit":2,"page":1,"total":2,"totalPages":1},"success":true,"timestamp":"2025-12-04 10:51:24"}
{"level":"http","message":"\u001b[0mGET /common/fcm-token \u001b[32m200\u001b[0m 29.988 ms - 2627\u001b[0m","timestamp":"2025-12-04 10:51:24"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 11:13:45","url":"/common/fcm-token","userAgent":"PostmanRuntime/7.49.1"}
{"data":[{"createdAt":"2025-12-04T05:16:41.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","fcm_device_info":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"fcm_user":{"createdAt":"2025-12-03T09:26:40.000Z","email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","is_profile_completed":true,"is_verified":true,"last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","role":"user","status":"de-activated","updatedAt":"2025-12-03T10:43:36.000Z"},"id":"6136246a-2da9-4aa9-bd94-7ba7d64eac81","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:41.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},{"createdAt":"2025-12-04T05:16:38.000Z","device_id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","fcm_device_info":{"createdAt":"2025-12-03T12:28:11.000Z","device_info":{"brand":"Apple","build_number":"22E200","device_id":"unique-device-id-12345","device_model":"A2890","device_name":"iPhone 14 Pro","device_type":"mobile","ip_address":"192.168.1.10","last_active_at":"2025-02-01T10:15:00Z","os":"iOS 18.1"},"id":"dd034f5a-6950-45fe-9227-4c2aa405eb87","platform_info":{"browser":"safari","name":"ios","version":"18.1"},"role":"user","updatedAt":"2025-12-03T12:29:34.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"fcm_user":{"createdAt":"2025-12-03T09:26:40.000Z","email":"dilshad@example.com","first_name":"Dilshad","id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00","is_profile_completed":true,"is_verified":true,"last_name":"Alam","location":{"city":"Patna","country":"India","landmark":"Near Gandhi Maidan","latitude":"25.5941","longitude":"85.1376","state":"Bihar"},"mobile":"8890788770","role":"user","status":"de-activated","updatedAt":"2025-12-03T10:43:36.000Z"},"id":"d71b4778-e247-4330-9309-ee306b024255","token":{"token":"fcm_token_abc123xyz","type":"fcm"},"updatedAt":"2025-12-04T05:16:38.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"}],"level":"info","message":"Fcm token fetched successfully","meta":{"limit":2,"page":1,"total":2,"totalPages":1},"success":true,"timestamp":"2025-12-04 11:13:45"}
{"level":"http","message":"\u001b[0mGET /common/fcm-token \u001b[32m200\u001b[0m 106.879 ms - 2627\u001b[0m","timestamp":"2025-12-04 11:13:45"}
{"body":{"address":"123 Main Street, Mumbai","isOwnShop":true,"shop_name":"My Shop","userId":"63f29f5d-8b37-41a7-861b-07f103666bd2"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 11:59:48","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Validation Failed","timestamp":"2025-12-04 11:59:48"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 10.171 ms - 149\u001b[0m","timestamp":"2025-12-04 11:59:48"}
{"level":"error","message":"Cannot read properties of undefined (reading 'shop_name')","timestamp":"2025-12-04 11:59:48"}
{"body":{"address":"123 Main Street, Mumbai","isOwnShop":true,"shop_name":"My Shop","userId":"63f29f5d-8b37-41a7-861b-07f103666bd2"},"level":"error","message":"Cannot set headers after they are sent to the client","method":"POST","params":{},"query":{},"stack":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:642:11)\n    at ServerResponse.header (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:684:10)\n    at ServerResponse.send (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:161:12)\n    at ServerResponse.json (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:250:15)\n    at ApiResponse.error (/Users/mac/Desktop/NodeJS/sl_back/src/utils/apiResponse.ts:118:39)\n    at /Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:19:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async saveVendorDetails (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:17:9)","statusCode":500,"timestamp":"2025-12-04 11:59:48","url":"/vendor/save-vendor-details"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:01:23","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"WHERE parameter \"shop_name\" has invalid \"undefined\" value","timestamp":"2025-12-04 12:01:23"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 41.632 ms - 1452\u001b[0m","timestamp":"2025-12-04 12:01:23"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:02:11","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"WHERE parameter \"shop_name\" has invalid \"undefined\" value","timestamp":"2025-12-04 12:02:29"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 18490.715 ms - 1452\u001b[0m","timestamp":"2025-12-04 12:02:29"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:02:45","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Unknown column 'VendorModel.shop_name' in 'where clause'","timestamp":"2025-12-04 12:02:45"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 54.034 ms - 1066\u001b[0m","timestamp":"2025-12-04 12:02:45"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:05:59","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"VendorModel.is_verified cannot be null","timestamp":"2025-12-04 12:05:59"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 42.665 ms - 192\u001b[0m","timestamp":"2025-12-04 12:05:59"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:06:39","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":{"message":"Vendor saved successfully","profile_completed":false},"success":true,"timestamp":"2025-12-04 12:06:39"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[32m200\u001b[0m 43.832 ms - 92\u001b[0m","timestamp":"2025-12-04 12:06:39"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:06:43","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Vendor is already exist with the same shop name","timestamp":"2025-12-04 12:06:43"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 16.152 ms - 515\u001b[0m","timestamp":"2025-12-04 12:06:43"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:15:34","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Vendor is already exist with the same shop name","timestamp":"2025-12-04 12:15:34"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 26.194 ms - 515\u001b[0m","timestamp":"2025-12-04 12:15:34"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon and Spa","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:18:48","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":{"id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","message":"Vendor saved successfully","profile_completed":false},"success":true,"timestamp":"2025-12-04 12:18:48"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[32m200\u001b[0m 61.034 ms - 136\u001b[0m","timestamp":"2025-12-04 12:18:48"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:19:03","url":"/vendor/save-vendor_location","userAgent":"PostmanRuntime/7.49.1"}
{"level":"warn","message":"Route not found","method":"POST","timestamp":"2025-12-04 12:19:03","url":"/vendor/save-vendor_location"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor_location \u001b[33m404\u001b[0m 4.958 ms - 29\u001b[0m","timestamp":"2025-12-04 12:19:03"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:19:42","url":"/vendor/save-vendor_location","userAgent":"PostmanRuntime/7.49.1"}
{"level":"warn","message":"Route not found","method":"POST","timestamp":"2025-12-04 12:19:42","url":"/vendor/save-vendor_location"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor_location \u001b[33m404\u001b[0m 12.370 ms - 29\u001b[0m","timestamp":"2025-12-04 12:19:42"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:19:58","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","message":"Vendor location updated successfuly","profile_completed":false},"level":"info","message":"Vendor location saved successfully","success":true,"timestamp":"2025-12-04 12:19:58"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[32m200\u001b[0m 35.240 ms - 190\u001b[0m","timestamp":"2025-12-04 12:19:58"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon and Spa","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:24:00","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"info","message":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor saved successfully","profile_completed":false},"success":true,"timestamp":"2025-12-04 12:24:00"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[32m200\u001b[0m 23.237 ms - 136\u001b[0m","timestamp":"2025-12-04 12:24:00"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:24:52","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"d324c2a2-fca7-4f04-aa8a-d70be85d406e","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"level":"error","message":"Error: No vendor found","method":"POST","params":{},"query":{},"stack":"Error: Error: No vendor found\n    at VendorService.saveVendorLocationDetails (/Users/mac/Desktop/NodeJS/sl_back/src/service/vendor.service.ts:47:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async saveVendorLocation (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:27:9)","statusCode":400,"timestamp":"2025-12-04 12:24:52","url":"/vendor/save-vendor-location"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[33m400\u001b[0m 21.746 ms - 399\u001b[0m","timestamp":"2025-12-04 12:24:52"}
{"body":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:24:58","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor location updated successfuly","profile_completed":false},"level":"info","message":"Vendor location saved successfully","success":true,"timestamp":"2025-12-04 12:24:58"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[32m200\u001b[0m 11.548 ms - 190\u001b[0m","timestamp":"2025-12-04 12:24:59"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:30:20","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Validation Failed","timestamp":"2025-12-04 12:30:20"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[31m500\u001b[0m 10.266 ms - 186\u001b[0m","timestamp":"2025-12-04 12:30:20"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"}},"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'id')","method":"POST","params":{},"query":{},"stack":"Error: TypeError: Cannot read properties of undefined (reading 'id')\n    at VendorService.saveVendorLocationDetails (/Users/mac/Desktop/NodeJS/sl_back/src/service/vendor.service.ts:49:19)\n    at saveVendorLocation (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:27:29)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:582:12)\n    at next (/Users/mac/Desktop/NodeJS/sl_back/node_modules/router/index.js:291:5)","statusCode":400,"timestamp":"2025-12-04 12:30:20","url":"/vendor/save-vendor-location"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:30:54","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor location updated successfuly","profile_completed":false},"level":"info","message":"Vendor location saved successfully","success":true,"timestamp":"2025-12-04 12:30:54"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[32m200\u001b[0m 19.795 ms - 190\u001b[0m","timestamp":"2025-12-04 12:30:54"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:41:22","url":"/vendor/save-vendor-kyc","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Validation Failed","timestamp":"2025-12-04 12:41:22"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-kyc \u001b[31m500\u001b[0m 9.954 ms - 184\u001b[0m","timestamp":"2025-12-04 12:41:22"}
{"level":"error","message":"Cannot read properties of undefined (reading 'id')","timestamp":"2025-12-04 12:41:22"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"}},"level":"error","message":"Cannot set headers after they are sent to the client","method":"POST","params":{},"query":{},"stack":"Error: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:642:11)\n    at ServerResponse.header (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:684:10)\n    at ServerResponse.send (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:161:12)\n    at ServerResponse.json (/Users/mac/Desktop/NodeJS/sl_back/node_modules/express/lib/response.js:250:15)\n    at ApiResponse.error (/Users/mac/Desktop/NodeJS/sl_back/src/utils/apiResponse.ts:118:39)\n    at /Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:43:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async saveVendorKycDetails (/Users/mac/Desktop/NodeJS/sl_back/src/controllers/vendor.controller.ts:41:9)","statusCode":500,"timestamp":"2025-12-04 12:41:22","url":"/vendor/save-vendor-kyc"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","kyc_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:41:30","url":"/vendor/save-vendor-kyc","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor KYC detauls updated successfuly","profile_completed":false},"level":"info","message":"Vendor KYC details saved successfully","success":true,"timestamp":"2025-12-04 12:41:30"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-kyc \u001b[32m200\u001b[0m 23.957 ms - 196\u001b[0m","timestamp":"2025-12-04 12:41:30"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","kyc_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:48:37","url":"/vendor/save-vendor-kyc","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor KYC detauls updated successfuly","profile_completed":false},"level":"info","message":"Vendor KYC details saved successfully","success":true,"timestamp":"2025-12-04 12:48:37"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-kyc \u001b[32m200\u001b[0m 24.155 ms - 196\u001b[0m","timestamp":"2025-12-04 12:48:37"}
{"body":{"bank_details":{"account_holder_name":"John Doe","account_number":"123456789012","bank_name":"State Bank of India","ifsc_code":"SBIN0001234"},"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:50:12","url":"/vendor/save-vendor-bank","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor bank details updated successfuly","profile_completed":true},"level":"info","message":"Vendor Bank details saved successfully","success":true,"timestamp":"2025-12-04 12:50:12"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-bank \u001b[32m200\u001b[0m 37.917 ms - 197\u001b[0m","timestamp":"2025-12-04 12:50:12"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 12:55:40","url":"/vendor/get-vendors","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Error: WHERE parameter \"user_id\" has invalid \"undefined\" value","timestamp":"2025-12-04 12:55:40"}
{"level":"http","message":"\u001b[0mGET /vendor/get-vendors \u001b[31m500\u001b[0m 16.476 ms - 554\u001b[0m","timestamp":"2025-12-04 12:55:40"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 12:55:53","url":"/vendor/get-vendors","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Error: WHERE parameter \"user_id\" has invalid \"undefined\" value","timestamp":"2025-12-04 12:55:53"}
{"level":"http","message":"\u001b[0mGET /vendor/get-vendors \u001b[31m500\u001b[0m 4.121 ms - 554\u001b[0m","timestamp":"2025-12-04 12:55:53"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 12:56:22","url":"/vendor/get-vendors","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Error: WHERE parameter \"user_id\" has invalid \"undefined\" value","timestamp":"2025-12-04 12:56:28"}
{"level":"http","message":"\u001b[0mGET /vendor/get-vendors \u001b[31m500\u001b[0m 5218.879 ms - 554\u001b[0m","timestamp":"2025-12-04 12:56:28"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 12:56:40","url":"/vendor/get-vendors","userAgent":"PostmanRuntime/7.49.1"}
{"level":"http","message":"\u001b[0mGET /vendor/get-vendors \u001b[33m401\u001b[0m 4.849 ms - 106\u001b[0m","timestamp":"2025-12-04 12:56:40"}
{"ip":"::1","level":"http","message":"Incoming Request","method":"GET","param":{},"timestamp":"2025-12-04 12:56:48","url":"/vendor/get-vendors","userAgent":"PostmanRuntime/7.49.1"}
{"data":[{"bank_details":{"account_holder_name":"John Doe","account_number":"123456789012","bank_name":"State Bank of India","ifsc_code":"SBIN0001234"},"createdAt":"2025-12-04T06:54:00.000Z","id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","is_verified":false,"kyc_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"},"location_details":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"},"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon and Spa","shop_open_time":"09:00","weekly_holiday":"Sunday"},"status":"active","updatedAt":"2025-12-04T07:20:12.000Z","user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"}],"level":"info","message":"Vendor fetched successfully","meta":{"limit":1,"page":1,"total":1,"totalPages":1},"success":true,"timestamp":"2025-12-04 12:56:50"}
{"level":"http","message":"\u001b[0mGET /vendor/get-vendors \u001b[32m200\u001b[0m 2396.356 ms - 1286\u001b[0m","timestamp":"2025-12-04 12:56:50"}
{"body":{"shop_details":{"email":"contact@glowshine.com","gstin_number":"22AAAAA0000A1Z5","mobile":"9876543210","shop_banner_url":"https://example.com/banner.jpg","shop_close_time":"21:00","shop_logo_url":"https://example.com/logo.png","shop_name":"Glow & Shine Beauty Salon and Spa","shop_open_time":"09:00","weekly_holiday":"Sunday"},"user_id":"4a6982ad-f435-4dba-bf5f-34045bf8ff00"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:57:59","url":"/vendor/save-vendor-details","userAgent":"PostmanRuntime/7.49.1"}
{"level":"error","message":"Vendor is already exist with the same shop name","timestamp":"2025-12-04 12:58:00"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-details \u001b[31m500\u001b[0m 25.906 ms - 515\u001b[0m","timestamp":"2025-12-04 12:58:00"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","location_details":{"address_line1":"Near Gandhi Maidan","address_line2":"Opposite Central Mall","area":"Kankarbagh","city":"Patna","country":"India","latitude":25.5941,"longitude":85.1376,"pincode":"800001","state":"Bihar"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:58:10","url":"/vendor/save-vendor-location","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor location updated successfuly","profile_completed":false},"level":"info","message":"Vendor location saved successfully","success":true,"timestamp":"2025-12-04 12:58:10"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-location \u001b[32m200\u001b[0m 14.474 ms - 190\u001b[0m","timestamp":"2025-12-04 12:58:10"}
{"body":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","kyc_details":{"aadhar_number":"123412341234","document_urls":{"aadhar_back":"https://example.com/aadhar_back.jpg","aadhar_front":"https://example.com/aadhar_front.jpg","pan_card":"https://example.com/pan_card.jpg","shop_license":null},"pan_number":"ABCDE1234F"}},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:58:22","url":"/vendor/save-vendor-kyc","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor KYC detauls updated successfuly","profile_completed":false},"level":"info","message":"Vendor KYC details saved successfully","success":true,"timestamp":"2025-12-04 12:58:22"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-kyc \u001b[32m200\u001b[0m 16.655 ms - 196\u001b[0m","timestamp":"2025-12-04 12:58:22"}
{"body":{"bank_details":{"account_holder_name":"John Doe","account_number":"123456789012","bank_name":"State Bank of India","ifsc_code":"SBIN0001234"},"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4"},"ip":"::1","level":"http","message":"Incoming Request","method":"POST","param":{},"timestamp":"2025-12-04 12:58:33","url":"/vendor/save-vendor-bank","userAgent":"PostmanRuntime/7.49.1"}
{"data":{"id":"fc03d5e8-6663-4053-a535-1f3cc01b97c4","message":"Vendor bank details updated successfuly","profile_completed":true},"level":"info","message":"Vendor Bank details saved successfully","success":true,"timestamp":"2025-12-04 12:58:33"}
{"level":"http","message":"\u001b[0mPOST /vendor/save-vendor-bank \u001b[32m200\u001b[0m 15.251 ms - 197\u001b[0m","timestamp":"2025-12-04 12:58:33"}
